{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "gateway_URI": {
      "type": "string"
    },
    "sharepoint_site_URL": {
      "type": "string"
    },
    "CRM_org_id": {
      "type": "string"
    },
    "KeyVault_URI": {
      "type": "string"
    },
    "RelayService_URI": {
      "type": "string"
    },
    "Frequency_Second": {
      "type": "string",
      "defaultValue": "Second"
    },
    "Frequency_Minute": {
      "type": "string",
      "defaultValue": "Minute"
    },
    "Frequency_Day": {
      "type": "string",
      "defaultValue": "Day"
    },
    "Frequency_Month": {
      "type": "string",
      "defaultValue": "Month"
    },
    "Interval_1": {
      "type": "int",
      "defaultValue": 1
    },
    "Interval_2": {
      "type": "int",
      "defaultValue": 2
    },
    "Interval_3": {
      "type": "int",
      "defaultValue": 3
    },
    "Interval_5": {
      "type": "int",
      "defaultValue": 5
    },
    "Interval_10": {
      "type": "int",
      "defaultValue": 10
    },
    "Interval_12": {
      "type": "int",
      "defaultValue": 12
    },
    "dynamicscrmonline_name": {
      "type": "string"
    },
    "servicebus_name": {
      "type": "string"
    },
    "azureblob_name": {
      "type": "string"
    },
    "sharepointonline_name": {
      "type": "string"
    },
    "IntegrationAccountName": {
      "type": "string"
    },
    "IntegrationAccountResourceGroupName": {
      "type": "string"
    },
    "azuretables_name": {
      "type": "string"
    },
    "integration_servicebus_name": {
      "type": "string"
    },
    "SRA-FunctionApp": {
      "type": "string"
    },
    "DOXIS-FunctionApp": {
      "type": "string"
    },
    "ReplaceBlobToCaseDocumentLink-FunctionName": {
      "type": "string"
    },
    "GetDoxisSasToken-FunctionName": {
      "type": "string"
    },
    "Notification-TransformContentTemplate-FunctionName": {
      "type": "string"
    },
    "Notification-GetTemplateHTML-FunctionName": {
      "type": "string"
    },
    "Notification-SendEmail-FunctionName": {
      "type": "string"
    },
    "AddMonths-FunctionName": {
      "type": "string"
    },
    "logicAppLocation": {
      "defaultValue": "[resourceGroup().location]",
      "type": "string"
    },
    "_artifactsLocation": {
      "type": "string"
    },
    "_artifactsLocationSasToken": {
      "type": "securestring"
    },
    "_devOpsDeployment": {
      "type": "bool",
      "defaultValue": false
    },
    "connections_dynamicscrmonline_name": {
      "defaultValue": "dynamicscrmonline",
      "type": "string"
    },
    "connections_servicebus_name": {
      "defaultValue": "servicebus",
      "type": "string"
    },
    "Get_File_Contents-URI": {
      "type": "string"
    },
    "Aad_audience": {
      "type": "string"
    },
    "Aad_authority": {
      "type": "string"
    },
    "Aad_clientId": {
      "type": "string"
    },
    "Aad_secret": {
      "type": "securestring"
    },
    "Aad_tenant": {
      "type": "string",
      "defaultValue": "[subscription().tenantId]"
    }
  },
  "variables": {
    "nestedTemplateApiVersion": "2019-05-01",
    "templateLocation": "[if(parameters('_devOpsDeployment'), parameters('_artifactsLocation'), concat(parameters('_artifactsLocation'), '/'))]"
  },
  "resources": [
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "AzureBlobToCaseworkSharepoint",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'AzureBlobToCaseworkSharepoint.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "azureblob_name": {
            "value": "[parameters('azureblob_name')]"
          },
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "sharepointonline_name": {
            "value": "[parameters('sharepointonline_name')]"
          },
          "sharepoint_site_URL": {
            "value": "[parameters('sharepoint_site_URL')]"
          },
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "AzureBlobToSharepoint",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'AzureBlobToSharepoint.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "azureblob_name": {
            "value": "[parameters('azureblob_name')]"
          },
          "sharepointonline_name": {
            "value": "[parameters('sharepointonline_name')]"
          },
          "sharepoint_site_URL": {
            "value": "[parameters('sharepoint_site_URL')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-Call-InRule",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-Call-InRule.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-DeleteEntity",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-DeleteEntity.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-GetAppContent-ByPageId",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-GetAppContent-ByPageId.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-GetFetchXML",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-GetFetchXML.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-GetFilteredEntity",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-GetFilteredEntity.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-GetMetadata",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-GetMetadata.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-GetMetadataByLabel",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-GetMetadataByLabel.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-GetMetadataByValue",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-GetMetadataByValue.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-InsertEntity",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-InsertEntity.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-MultiGetFetchXML",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-MultiGetFetchXML.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "DataService-UpdateEntity",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'DataService-UpdateEntity.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "gateway_URI": {
            "value": "[parameters('gateway_URI')]"
          },
          "Aad_audience": {
            "value": "[parameters('Aad_audience')]"
          },
          "Aad_authority": {
            "value": "[parameters('Aad_authority')]"
          },
          "Aad_clientId": {
            "value": "[parameters('Aad_clientId')]"
          },
          "Aad_secret": {
            "value": "[parameters('Aad_secret')]"
          },
          "Aad_tenant": {
            "value": "[parameters('Aad_tenant')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "GetFileContentFromSharepoint",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'GetFileContentFromSharepoint.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "sharepointonline_name": {
            "value": "[parameters('sharepointonline_name')]"
          },
          "sharepoint_site_URL": {
            "value": "[parameters('sharepoint_site_URL')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-AUTH-1912-UpdateCharityNumber",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-AUTH-1912-UpdateCharityNumber.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-BulkRenewal-CountApplication",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-BulkRenewal-CountApplication.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-CollectFee-CreateOrderDetail-Generic",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-CollectFee-CreateOrderDetail-Generic.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-CollectFee-GetOrderNumber",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-CollectFee-GetOrderNumber.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "azuretables_name": {
            "value": "[parameters('azuretables_name')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Common-ApplicationProgress",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Common-ApplicationProgress.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "azuretables_name": {
            "value": "[parameters('azuretables_name')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Common-CollectFee-Cancel-Order",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Common-CollectFee-Cancel-Order.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Common-CollectFee-Update-Order-Status-Draft-To-New",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Common-CollectFee-Update-Order-Status-Draft-To-New.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Common-Create-Invoice",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Common-Create-Invoice.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Common-Schedule-Update-Attribute-Terminate",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Common-Schedule-Update-Attribute-Terminate.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          },
          "Frequency_Day": {
            "value": "[parameters('Frequency_Day')]"
          },
          "Interval_1": {
            "value": "[parameters('Interval_1')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Common-Wait-Application-Updated",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Common-Wait-Application-Updated.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Config-GetServicePrincipal",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Config-GetServicePrincipal.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {}
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-CRMEntity-Case-Apply-Flags",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-CRMEntity-Case-Apply-Flags.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Employment-Update-Main-Office-4292",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Employment-Update-Main-Office-4292.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-LA-GetDataFromDoxis",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-LA-GetDataFromDoxis.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "DOXIS-FunctionApp": {
            "value": "[parameters('DOXIS-FunctionApp')]"
          },
          "GetDoxisSasToken-FunctionName": {
            "value": "[parameters('GetDoxisSasToken-FunctionName')]"
          },
          "KeyVault_URI": {
            "value": "[parameters('KeyVault_URI')]"
          },
          "RelayService_URI": {
            "value": "[parameters('RelayService_URI')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Notification-Job-Processor-Log",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Notification-Job-Processor-Log.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Order-Statecode-Update",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Order-Statecode-Update.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-Send-Queued-Notifications",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-Send-Queued-Notifications.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "SRA-FunctionApp": {
            "value": "[parameters('SRA-FunctionApp')]"
          },
          "Notification-SendEmail-FunctionName": {
            "value": "[parameters('Notification-SendEmail-FunctionName')]"
          },
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-2523-UpdateRTCAttribute",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-2523-UpdateRTCAttribute.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-2645-UpdateRTCAttribute",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-2645-UpdateRTCAttribute.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-3499-GetCertificateData-CAT",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-3499-GetCertificateData-CAT.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-3499-GetCertificateData-COGS",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-3499-GetCertificateData-COGS.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-3499-GetCertificateFileNames",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-3499-GetCertificateFileNames.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {}
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-3545-EMADPO-Consent",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-3545-EMADPO-Consent.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-4325-EMADRO-Consent",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-4325-EMADRO-Consent.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-4538-FRADRO-Consent",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-4538-FRADRO-Consent.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-4539-FRADPO-Consent",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-4539-FRADPO-Consent.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-4928-Close-Branch",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-4928-Close-Branch.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-8402-User-Generate-Activation-Code",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-8402-User-Generate-Activation-Code.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_second": {
            "value": "[parameters('Frequency_second')]"
          },
          "Interval_3": {
            "value": "[parameters('Interval_3')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-923-FCNMA-Consent",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-923-FCNMA-Consent.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "SRA-SW-9525-Add-Post",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'SRA-SW-9525-Add-Post.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "servicebus_name": {
            "value": "[parameters('servicebus_name')]"
          },
          "Frequency_Second": {
            "value": "[parameters('Frequency_Second')]"
          },
          "Interval_10": {
            "value": "[parameters('Interval_10')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "UpdateAADUsername-DoNotRemove",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'UpdateAADUsername-DoNotRemove.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {}
      }
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('nestedTemplateApiVersion')]",
      "name": "User-CreateContact-Migration",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateLocation'), 'User-CreateContact-Migration.json' , parameters('_artifactsLocationSasToken'))]"
        },
        "parameters": {
          "dynamicscrmonline_name": {
            "value": "[parameters('dynamicscrmonline_name')]"
          },
          "CRM_org_id": {
            "value": "[parameters('CRM_org_id')]"
          }
        }
      }
    }
  ],
  "outputs": {}
}